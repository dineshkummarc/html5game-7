<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>

<canvas id="testCanvasElement" width="400" height="400" style="background: #cccccc;"></canvas>

<script>

	var cv = document.getElementById("testCanvasElement");
	var context = cv.getContext("2d");

	// ImageData作成
	var imgData = context.createImageData(256, 256);

	// 各ピクセルの色情報設定
	for (i = 0;i < 256;i++) {
		for (j = 0;j < 256;j++) {

			// 赤成分
			imgData.data[j * 4 + i * imgData.width * 4] = j;

			// 緑成分
			imgData.data[1 + j * 4 + i * imgData.width * 4] = 255 - i;

			// 青成分
			imgData.data[2 + j * 4 + i * imgData.width * 4] = i;

			// アルファ成分
			imgData.data[3 + j * 4 + i * imgData.width * 4] = 255;

		}
	}

	// CanvasのコンテキストにImageDataを設定
	context.putImageData(imgData, 0, 0);

</script>

</body>
</html>
